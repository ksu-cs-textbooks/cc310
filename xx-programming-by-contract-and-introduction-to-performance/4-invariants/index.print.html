




  
	
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
		
		
	  

  
	
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 6.0.0">
    <meta name="description" content="YouTube Video Another concept related to preconditions and postconditions is the loop invariant. A loop invariant is a statement should be true after each iteration of a loop, provided the loop’s preconditions are all true before the start of the loop. Yes, that’s right—we can think of a loop as a miniature method within a method, with its own set of preconditions and postconditions.
Example - Maximum For this example, let’s consider a method maximum(numbers) that gets an array of numbers as input, and returns the maximum value stored in that list.">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Invariants :: CC 310 Textbook">
    <meta name="twitter:description" content="YouTube Video Another concept related to preconditions and postconditions is the loop invariant. A loop invariant is a statement should be true after each iteration of a loop, provided the loop’s preconditions are all true before the start of the loop. Yes, that’s right—we can think of a loop as a miniature method within a method, with its own set of preconditions and postconditions.
Example - Maximum For this example, let’s consider a method maximum(numbers) that gets an array of numbers as input, and returns the maximum value stored in that list.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc310/xx-programming-by-contract-and-introduction-to-performance/4-invariants/">
    <meta property="og:site_name" content="CC 310 Textbook">
    <meta property="og:title" content="Invariants :: CC 310 Textbook">
    <meta property="og:description" content="YouTube Video Another concept related to preconditions and postconditions is the loop invariant. A loop invariant is a statement should be true after each iteration of a loop, provided the loop’s preconditions are all true before the start of the loop. Yes, that’s right—we can think of a loop as a miniature method within a method, with its own set of preconditions and postconditions.
Example - Maximum For this example, let’s consider a method maximum(numbers) that gets an array of numbers as input, and returns the maximum value stored in that list.">
    <meta property="og:locale" content="en-us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Programming by Contract and Introduction to Performance">
    <meta property="article:modified_time" content="2024-06-28T15:58:53-05:00">
    <meta itemprop="name" content="Invariants :: CC 310 Textbook">
    <meta itemprop="description" content="YouTube Video Another concept related to preconditions and postconditions is the loop invariant. A loop invariant is a statement should be true after each iteration of a loop, provided the loop’s preconditions are all true before the start of the loop. Yes, that’s right—we can think of a loop as a miniature method within a method, with its own set of preconditions and postconditions.
Example - Maximum For this example, let’s consider a method maximum(numbers) that gets an array of numbers as input, and returns the maximum value stored in that list.">
    <meta itemprop="dateModified" content="2024-06-28T15:58:53-05:00">
    <meta itemprop="wordCount" content="633">
    <title>Invariants :: CC 310 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc310/xx-programming-by-contract-and-introduction-to-performance/4-invariants/" rel="canonical" type="text/html" title="Invariants :: CC 310 Textbook">
    <link href="/cc310/xx-programming-by-contract-and-introduction-to-performance/4-invariants/index.xml" rel="alternate" type="application/rss+xml" title="Invariants :: CC 310 Textbook">
    <link href="/cc310/xx-programming-by-contract-and-introduction-to-performance/4-invariants/tele.html" rel="alternate" type="text/html" title="Invariants :: CC 310 Textbook">
    <link href="/cc310/xx-programming-by-contract-and-introduction-to-performance/4-invariants/embed.html" rel="alternate" type="text/html" title="Invariants :: CC 310 Textbook">
    <link href="/cc310/css/fontawesome-all.min.css?1719869969" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc310/css/fontawesome-all.min.css?1719869969" rel="stylesheet"></noscript>
    <link href="/cc310/css/nucleus.css?1719869969" rel="stylesheet">
    <link href="/cc310/css/auto-complete.css?1719869969" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc310/css/auto-complete.css?1719869969" rel="stylesheet"></noscript>
    <link href="/cc310/css/perfect-scrollbar.min.css?1719869969" rel="stylesheet">
    <link href="/cc310/css/fonts.css?1719869969" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc310/css/fonts.css?1719869969" rel="stylesheet"></noscript>
    <link href="/cc310/css/theme.css?1719869969" rel="stylesheet">
    <link href="/cc310/css/theme-auto.css?1719869969" rel="stylesheet" id="R-variant-style">
    <link href="/cc310/css/chroma-auto.css?1719869969" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/cc310/css/variant.css?1719869969" rel="stylesheet">
    <link href="/cc310/css/print.css?1719869969" rel="stylesheet" media="print">
    <link href="/cc310/css/format-print.css?1719869969" rel="stylesheet">
    <script src="/cc310/js/variant.js?1719869969"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc310';
      window.index_js_url="/cc310/index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
    
    <link href="/cc310/css/custom.css?1719869969" rel="stylesheet">
  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="/cc310/xx-programming-by-contract-and-introduction-to-performance/4-invariants/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/cc310/xx-programming-by-contract-and-introduction-to-performance/"><span itemprop="name">Programming by Contract and Introduction to Performance</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Invariants</span><meta itemprop="position" content="2"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc310/xx-programming-by-contract-and-introduction-to-performance/" title="Programming by Contract and Introduction to Performance (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc310/xx-programming-by-contract-and-introduction-to-performance/5-correctness/" title="Correctness (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="invariants">Invariants</h1>


<a href="https://www.youtube.com/watch?v=KxNJqvU31oI">YouTube Video</a>

<p>Another concept related to preconditions and postconditions is the <em>loop invariant</em>. A loop invariant is a statement should be true after each iteration of a loop, provided the loop&rsquo;s <em>preconditions</em> are all true before the start of the loop. Yes, that&rsquo;s right&mdash;we can think of a loop as a miniature method within a method, with its own set of preconditions and postconditions.</p>
<h2 id="example---maximum">Example - Maximum</h2>
<p>For this example, let&rsquo;s consider a method <code>maximum(numbers)</code> that gets an array of numbers as input, and returns the maximum value stored in that list. So, we can start by listing the preconditions of the method:</p>
<ol>
<li><code>numbers</code> is an array containing at least one numerical value, either a floating point or an integer</li>
</ol>
<p>Thankfully, that one precondition covers all of our bases. Likewise, we can define our postcondition pretty easily as well:</p>
<ol>
<li>The method returns the maximum value stored in the <code>numbers</code> array</li>
<li>The <code>numbers</code> array is not modified by the method</li>
</ol>
<p>There we go! Hopefully it is easy to see how the preconditions and postconditions help us build a better definition of what operations should be performed by the method.</p>
<h3 id="method-pseudocode">Method Pseudocode</h3>
<p>Now that we&rsquo;ve built our method&rsquo;s preconditions and postconditions, let&rsquo;s quickly write the method in pseudocode so we can see what it would look like.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tex" data-lang="tex"><span class="line"><span class="cl">function MAXIMUM(NUMBERS)
</span></span><span class="line"><span class="cl">    MAX = NUMBERS[0]
</span></span><span class="line"><span class="cl">    loop I from 1 to length of NUMBERS
</span></span><span class="line"><span class="cl">        if NUMBERS[I] &gt; MAX
</span></span><span class="line"><span class="cl">            MAX = NUMBERS[I]
</span></span><span class="line"><span class="cl">        end if
</span></span><span class="line"><span class="cl">    end loop
</span></span><span class="line"><span class="cl">    return MAX
</span></span><span class="line"><span class="cl">end function</span></span></code></pre></div><p>We&rsquo;ve seen methods like this several times already, since calculating the maximum value from an array of values is a very common task. This time, however, let&rsquo;s discuss the preconditions, postconditions and invariants of the loop inside of this method.</p>
<h3 id="preconditions">Preconditions</h3>
<p>First, we can establish an important precondition at the beginning of the loop. In this case, the precondition that best describes the value stored in <code>MAX</code> is:</p>
<ol>
<li><code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including index $0$.</li>
</ol>
<p>In this way, we&rsquo;ve directly tied our precondition to the values that exist in the method already, and we&rsquo;ve accurately described the value that <code>MAX</code> is currently storing.</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
  <div class="box-content">

<h1 id="confused">Confused?</h1>
<p>Don&rsquo;t worry if this doesn&rsquo;t make sense right now - you won&rsquo;t be expected to write your own preconditions and invariants at this point. We&rsquo;re just introducing the concepts so you&rsquo;ll understand how they work when you see them later in the projects in this course</p>
</div>
</div>
<h3 id="loop-invariant">Loop Invariant</h3>
<p>Next, we can determine what the loop invariant should be. This is a statement that should be true after each iteration of the loop, provided the precondition is true. Usually we want to try and relate it to the precondition somehow, and how it changes after each iteration of the loop. So, let&rsquo;s consider the following loop invariant:</p>
<ol>
<li><code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including index $I$.</li>
</ol>
<p>Hmm, that&rsquo;s almost exactly the same as the precondition, isn&rsquo;t it? That&rsquo;s what we&rsquo;re going for here. In this way, we can easily describe what the loop does after each iteration based on how it updates the value in <code>MAX</code>, keeping the loop invariant true. We call that &ldquo;maintaining the loop invariant.&rdquo;</p>
<h3 id="postcondition">Postcondition</h3>
<p>Finally, we can define the postcondition of the loop. This is pretty simple, since it is the same as the loop invariant, but this time we can say that <code>I</code> is equal to the end of the loop. So, our postcondition is simply:</p>
<ol>
<li><code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including the last index.</li>
</ol>
<p>That&rsquo;s all there is to it! By defining a precondition, invariant, and postcondition for our loop, we can very accurately describe exactly what that loop should do. On the next page, we&rsquo;ll see how we can put all of those together to show that our method works correctly.</p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

        </div>
      </main>
    
<div class="git-footer">
  <p class="theme-version-footer">6.0.0</p>
  <p>Last modified by: 
              <i class='fas fa-user'></i> Russell Feldhausen
              <i class='fas fa-calendar'></i> <a href="https://github.com/ksu-cs-textbooks/cc310/commit/318c7d43593e6a9444589099914205007b2c305d">Jun 28, 2024</a>
  </p>
  </div>
  
    
    </div>
    <script src="/cc310/js/clipboard.min.js?1719869969" defer></script>
    <script src="/cc310/js/perfect-scrollbar.min.js?1719869969" defer></script>
    <script src="/cc310/js/theme.js?1719869969" defer></script>
  </body>
</html>
