




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 310 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Invariants :: CC 310 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/4-invariants/index.html" rel="canonical" type="text/html" title="Invariants :: CC 310 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/4-invariants/index.xml" rel="alternate" type="application/rss+xml" title="Invariants :: CC 310 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/4-invariants/index.print.html" rel="alternate" type="text/html" title="Invariants :: CC 310 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/4-invariants/tele.html" rel="alternate" type="text/html" title="Invariants :: CC 310 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/fontawesome-all.min.css?1691781708" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc310/css/fontawesome-all.min.css?1691781708" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/nucleus.css?1691781708" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/auto-complete.css?1691781708" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc310/css/auto-complete.css?1691781708" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/perfect-scrollbar.min.css?1691781708" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/fonts.css?1691781708" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc310/css/fonts.css?1691781708" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/theme.css?1691781708" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/theme-auto.css?1691781708" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/variant.css?1691781708" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/print.css?1691781708" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/ie.css?1691781708" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/url.js?1691781708"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/variant.js?1691781708"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc310/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc310/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc310/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/custom.css?1691781708" rel="stylesheet">

  </head>
  <body class="mobile-support embed disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/4-invariants/embed.html">
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
    
    
    
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/KxNJqvU31oI" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
<p>Another concept related to preconditions and postconditions is the <em>loop invariant</em>. A loop invariant is a statement should be true after each iteration of a loop, provided the loop&rsquo;s <em>preconditions</em> are all true before the start of the loop. Yes, that&rsquo;s right&mdash;we can think of a loop as a miniature method within a method, with its own set of preconditions and postconditions.</p>
<h2 id="example---maximum">Example - Maximum</h2>
<p>For this example, let&rsquo;s consider a method <code>maximum(numbers)</code> that gets an array of numbers as input, and returns the maximum value stored in that list. So, we can start by listing the preconditions of the method:</p>
<ol>
<li><code>numbers</code> is an array containing at least one numerical value, either a floating point or an integer</li>
</ol>
<p>Thankfully, that one precondition covers all of our bases. Likewise, we can define our postcondition pretty easily as well:</p>
<ol>
<li>The method returns the maximum value stored in the <code>numbers</code> array</li>
<li>The <code>numbers</code> array is not modified by the method</li>
</ol>
<p>There we go! Hopefully it is easy to see how the preconditions and postconditions help us build a better definition of what operations should be performed by the method.</p>
<h3 id="method-pseudocode">Method Pseudocode</h3>
<p>Now that we&rsquo;ve built our method&rsquo;s preconditions and postconditions, let&rsquo;s quickly write the method in pseudocode so we can see what it would look like.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>function MAXIMUM(NUMBERS)
</span></span><span style="display:flex;"><span>    MAX = NUMBERS[0]
</span></span><span style="display:flex;"><span>    loop I from 1 to length of NUMBERS
</span></span><span style="display:flex;"><span>        if NUMBERS[I] &gt; MAX
</span></span><span style="display:flex;"><span>            MAX = NUMBERS[I]
</span></span><span style="display:flex;"><span>        end if
</span></span><span style="display:flex;"><span>    end loop
</span></span><span style="display:flex;"><span>    return MAX
</span></span><span style="display:flex;"><span>end function</span></span></code></pre></div><p>We&rsquo;ve seen methods like this several times already, since calculating the maximum value from an array of values is a very common task. This time, however, let&rsquo;s discuss the preconditions, postconditions and invariants of the loop inside of this method.</p>
<h3 id="preconditions">Preconditions</h3>
<p>First, we can establish an important precondition at the beginning of the loop. In this case, the precondition that best describes the value stored in <code>MAX</code> is:</p>
<ol>
<li><code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including index $0$.</li>
</ol>
<p>In this way, we&rsquo;ve directly tied our precondition to the values that exist in the method already, and we&rsquo;ve accurately described the value that <code>MAX</code> is currently storing.</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
  <div class="box-content">

<h1 id="confused">Confused?</h1>
<p>Don&rsquo;t worry if this doesn&rsquo;t make sense right now - you won&rsquo;t be expected to write your own preconditions and invariants at this point. We&rsquo;re just introducing the concepts so you&rsquo;ll understand how they work when you see them later in the projects in this course</p>
</div>
</div>
<h3 id="loop-invariant">Loop Invariant</h3>
<p>Next, we can determine what the loop invariant should be. This is a statement that should be true after each iteration of the loop, provided the precondition is true. Usually we want to try and relate it to the precondition somehow, and how it changes after each iteration of the loop. So, let&rsquo;s consider the following loop invariant:</p>
<ol>
<li><code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including index $I$.</li>
</ol>
<p>Hmm, that&rsquo;s almost exactly the same as the precondition, isn&rsquo;t it? That&rsquo;s what we&rsquo;re going for here. In this way, we can easily describe what the loop does after each iteration based on how it updates the value in <code>MAX</code>, keeping the loop invariant true. We call that &ldquo;maintaining the loop invariant.&rdquo;</p>
<h3 id="postcondition">Postcondition</h3>
<p>Finally, we can define the postcondition of the loop. This is pretty simple, since it is the same as the loop invariant, but this time we can say that <code>I</code> is equal to the end of the loop. So, our postcondition is simply:</p>
<ol>
<li><code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including the last index.</li>
</ol>
<p>That&rsquo;s all there is to it! By defining a precondition, invariant, and postcondition for our loop, we can very accurately describe exactly what that loop should do. On the next page, we&rsquo;ll see how we can put all of those together to show that our method works correctly.</p>

            <footer class="footline">

            </footer>
          </article>
        </div>
      </main>
    </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/clipboard.min.js?1691781710" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/perfect-scrollbar.min.js?1691781710" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/theme.js?1691781710" defer></script>
  </body>
</html>
