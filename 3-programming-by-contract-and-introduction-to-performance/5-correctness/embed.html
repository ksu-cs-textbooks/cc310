




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 310 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Correctness :: CC 310 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/5-correctness/index.html" rel="canonical" type="text/html" title="Correctness :: CC 310 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/5-correctness/index.xml" rel="alternate" type="application/rss+xml" title="Correctness :: CC 310 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/5-correctness/index.print.html" rel="alternate" type="text/html" title="Correctness :: CC 310 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/5-correctness/tele.html" rel="alternate" type="text/html" title="Correctness :: CC 310 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/fontawesome-all.min.css?1691781771" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc310/css/fontawesome-all.min.css?1691781771" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/nucleus.css?1691781771" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/auto-complete.css?1691781771" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc310/css/auto-complete.css?1691781771" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/perfect-scrollbar.min.css?1691781771" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/fonts.css?1691781771" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc310/css/fonts.css?1691781771" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/theme.css?1691781771" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/theme-auto.css?1691781771" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/variant.css?1691781771" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/print.css?1691781771" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/ie.css?1691781771" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/url.js?1691781771"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/variant.js?1691781771"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc310/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc310/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc310/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/custom.css?1691781771" rel="stylesheet">

  </head>
  <body class="mobile-support embed disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/5-correctness/embed.html">
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
    
    
    
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/Yc1u0ja3iVY" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
<p>If we have defined the correct preconditions, postconditions, and invariants for our code, we can then use those to prove that our code correctly performs its intended operation.</p>
<p>In this course, we won&rsquo;t ask you to do any of this yourself, but it is important to understand what is going on in the background and how this process works. We can use the concepts of preconditions and postconditions when grading your code using our Autograder&mdash;in fact, that&rsquo;s really how it works!</p>
<h2 id="proving-correctness">Proving Correctness</h2>
<p>To prove correctness of a method, we can generally follow this process:</p>
<ol>
<li>Establish (or assume) that the method&rsquo;s preconditions are all true</li>
<li>Use the preconditions and the code to demonstrate that any invariants within the code are always true
<ol>
<li>If the code contains a loop, we can repeat this process for preconditions and postconditions of the loop</li>
</ol>
</li>
<li>Use the preconditions and invariants to show that the postcondition is true</li>
</ol>
<p>Let&rsquo;s do this for our <code>maximum()</code> method described on the previous page. Here is the pseudocode once again:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>function MAXIMUM(NUMBERS)
</span></span><span style="display:flex;"><span>    MAX = NUMBERS[0]
</span></span><span style="display:flex;"><span>    loop I from 1 to length of NUMBERS
</span></span><span style="display:flex;"><span>        if NUMBERS[I] &gt; MAX
</span></span><span style="display:flex;"><span>            MAX = NUMBERS[I]
</span></span><span style="display:flex;"><span>        end if
</span></span><span style="display:flex;"><span>    end loop
</span></span><span style="display:flex;"><span>    return MAX
</span></span><span style="display:flex;"><span>end function</span></span></code></pre></div><p>Here are the associated conditions we established as well:</p>
<p><strong>Method Precondition:</strong> <code>NUMBERS</code> is an array containing at least one numerical value, either a floating point or an integer
<strong>Loop Precondition:</strong> <code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including index $0$.
<strong>Loop Invariant:</strong> <code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including index $I$.
<strong>Loop Postcondition:</strong> <code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including the last index.
<strong>Method Postconditions:</strong> The method returns the maximum value stored in the <code>NUMBERS</code> array, and the <code>NUMBERS</code> array is not modified by the method</p>
<p>Now that we have that information, we can discuss the <em>correctness</em> of the method.</p>
<h2 id="a-simple-proof">A Simple Proof</h2>
<p>To begin, we assume that the method&rsquo;s preconditions are true. Therefore, we know that <code>NUMBERS</code> is an array containing at least one numerical value. Earlier in this chapter, we learned that we can&rsquo;t assume that the method works if the preconditions are false, so we can always begin our proof by assuming they are true.</p>
<p>Next, we have to use the code as well as the method&rsquo;s preconditions to establish that the loop&rsquo;s preconditions are true. In the code, we see that we set the value of <code>MAX</code> equal to the first element in the <code>NUMBERS</code> array. So, since there is only that value in the <code>NUMBERS</code> array up to and including index $0$, it is easy to say that it is indeed the maximum value. So, we&rsquo;ve shown that our loop&rsquo;s precondition is true.</p>
<p>After that, we have to show that the loop invariant is true after each iteration of the loop. A proper proof would involve a technique called <em>proof by induction</em>, which is more advanced than we want to cover in this course. However, a simple way to think about it is to say that the value in <code>MAX</code> contains the largest value in the list that we&rsquo;ve seen so far. On each loop iteration, we look at one more value. If it is larger than <code>MAX</code>, then it becomes the new <code>MAX</code> value. Otherwise, we know that the maximum value we&rsquo;ve seen so far hasn&rsquo;t changed. So, we can show that our loop invariant is always true after each loop iteration.</p>
<p>Finally, once we reach the end of the loop, we&rsquo;ve looked at every element including the last index, and found the <code>MAX</code> value, so it is easy to see that our loop postcondition is true.</p>
<p>Then, we can quickly use that loop postcondition to understand that the <code>MAX</code> value is really the largest in the <code>NUMBERS</code> array, which means that the first part of our method&rsquo;s postcondition is also true.</p>
<p>But wait! What about the second part, that insists that we did not modify the contents of the numbers array? Thankfully, we can quickly look at our code and determine that we are not assigning a value into the array, nor do we call any functions on the array, so it is easy to show that our code has not modified it in any way.</p>
<p>There we go! This is a quick example for how we can use preconditions, postconditions, and invariants to help understand our code and whether it works correctly.</p>
<p>On the next page, we&rsquo;ll learn about <em>unit testing</em> and how we can write our own code to verify that our code works correctly.</p>

            <footer class="footline">

            </footer>
          </article>
        </div>
      </main>
    </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/clipboard.min.js?1691781772" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/perfect-scrollbar.min.js?1691781772" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/theme.js?1691781772" defer></script>
  </body>
</html>
