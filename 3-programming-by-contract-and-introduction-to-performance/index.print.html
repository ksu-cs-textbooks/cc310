




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 310 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Programming by Contract and Introduction to Performance :: CC 310 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/index.html" rel="canonical" type="text/html" title="Programming by Contract and Introduction to Performance :: CC 310 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/index.xml" rel="alternate" type="application/rss+xml" title="Programming by Contract and Introduction to Performance :: CC 310 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/tele.html" rel="alternate" type="text/html" title="Programming by Contract and Introduction to Performance :: CC 310 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/embed.html" rel="alternate" type="text/html" title="Programming by Contract and Introduction to Performance :: CC 310 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/fontawesome-all.min.css?1694711082" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc310/css/fontawesome-all.min.css?1694711082" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/nucleus.css?1694711082" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/auto-complete.css?1694711082" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc310/css/auto-complete.css?1694711082" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/perfect-scrollbar.min.css?1694711082" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/fonts.css?1694711082" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc310/css/fonts.css?1694711082" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/theme.css?1694711082" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/theme-auto.css?1694711082" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/variant.css?1694711082" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/print.css?1694711082" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/format-print.css?1694711082" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/ie.css?1694711082" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/url.js?1694711082"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/variant.js?1694711082"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc310/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc310/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc310/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc310/css/custom.css?1694711082" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc310/index.html"><span itemprop="name">CC 310 Textbook</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Programming by Contract and Introduction to Performance</span><meta itemprop="position" content="2"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter deprecated">
            <header class="headline">
            </header>

<h3 id="welcome">Welcome!</h3>
<p>This page is the main page for Programming by Contract and Introduction to Performance</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Programming by Contract and Introduction to Performance</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="programming-by-contract">Programming by Contract</h1>

<p><a href="https://www.youtube.com/watch?v=Ir93pt3KO7c">YouTube Video</a></p>
<p>In this course, we will learn how to develop several different data structures, and then use those data structures in programs that implement several different types of algorithms. However, one of the most difficult parts of programming is clearly explaining what a program should do and how it should perform.</p>
<p>
<a href="#image-ff579dabb62078699392759ac2298079" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/1-programming-by-contract/../../images/3/3.1.videouml.png" alt="UML Diagram Example" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-ff579dabb62078699392759ac2298079">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/1-programming-by-contract/../../images/3/3.1.videouml.png" alt="UML Diagram Example" class="lightbox-image" loading="lazy">
</a></p>
<p>So far, we&rsquo;ve used UML class diagrams to discuss the structure of a program. It can give us information about the classes, attributes, and methods that our program will contain, as well as the overall relationships between the classes. We can even learn if attributes and methods are private or public, and more.</p>
<p>However, to describe what each method does, we have simply relied on descriptions in plain language up to this point, with no specific format at all. In this module, we&rsquo;ll introduce the concept of <em>programming by contract</em> to help us provide more specific information about what each method should do and the expectations we can count on based on the inputs and outputs of the method.</p>
<p>Specifically, we&rsquo;ll learn about the <em>preconditions</em> that are applied to the parameters of a method to make sure they are valid, the <em>postconditions</em> that the method will guarantee if the preconditions are met, and the <em>invariants</em> that a loop or data structure will maintain.</p>
<p>Finally, we can put all of that information together to discuss how to prove that an algorithm correctly performs the task it was meant to, and how to make sure that it works correctly in all possible cases.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="preconditions">Preconditions</h1>

<p>First, let&rsquo;s discuss preconditions. A precondition is an expectation applied to any parameters and existing variables when a method or function is called. Phrased a different way, the preconditions should all be true before the method is called. If all of the preconditions are met, the function can proceed and is expected to function properly. However, if any one of the preconditions are not met, the function may either reach an exception, prompt the user to correct the issue, or produce invalid output, depending on how it is written.</p>
<h2 id="example---area-of-a-triangle">Example - Area of a Triangle</h2>
<p>Let&rsquo;s consider an example method to see how we can define the preconditions applied to that method. In this example, we&rsquo;re going to write a method <code>triangleArea(side1, side2, side3)</code> that will calculate the area of a triangle, given the lengths of the sides of the triangle.</p>
<p>So, to determine what the preconditions of that method should be, we must think about what we know about a triangle and what sort of data we expect to receive.</p>
<p>For example, we know that the length of each side should be a number. In addition, those lengths should all be positive, so each one must be strictly greater than $0$.</p>
<p>We can also determine if we expect the length to be whole numbers or floating-point numbers. To make this example simpler, let&rsquo;s just work with whole numbers.</p>
<p>When looking at preconditions, determining the types and expected range of values of each parameter is a major first step. However, sometimes we must also look at the relationship between the parameters to find additional preconditions that we must consider.</p>
<p>
<a href="#image-919168e0f9849a927a13333fb73c2fe9" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/2-preconditions/../../images/3/3.2.triangleinequal_wiki.svg" alt="Triangle Inequality" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-919168e0f9849a927a13333fb73c2fe9">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/2-preconditions/../../images/3/3.2.triangleinequal_wiki.svg" alt="Triangle Inequality" class="lightbox-image" loading="lazy">
</a>^[File:TriangleInequality.svg. (2015, July 10). Wikimedia Commons, the free media repository. Retrieved 23:22, January 21, 2020 from https://commons.wikimedia.org/w/index.php?title=File:TriangleInequality.svg&amp;oldid=165448754.]</p>
<p>For example, the <a href="https://en.wikipedia.org/wiki/Triangle_inequality" target="_blank">triangle inequality</a>
 states that the longest side of a triangle must be strictly shorter than the sum of the other two sides. Otherwise, those sides will not create a triangle. So, another precondition must state that the sides satisfy the triangle inequality.</p>
<p>All together, we&rsquo;ve found the following preconditions for our method <code>triangleArea(side1, side2, side3)</code>:</p>
<ol>
<li><code>side1</code>, <code>side2</code> and <code>side3</code> each must each be an integer that is strictly greater than $0$</li>
<li><code>side1</code>, <code>side2</code> and <code>side3</code> must satisfy the triangle inequality</li>
</ol>
<h2 id="precondition-failures">Precondition Failures</h2>
<p>What if our method is called and provided a set of parameters that do not meet the preconditions described above? As a programmer, there are several actions we can take in our code to deal with the situation.</p>
<h3 id="exceptions">Exceptions</h3>
<p>One of the most common ways to handle precondition failures is to simply throw or raise exceptions from our method as soon as it determines that the preconditions are not met. In this way, we can quickly indicate that the program is unable to perform the requested operation, and leave it up to the code that called that method to either handle the exception or ignore it and allow the program to crash.</p>
<p>This method is best used within the model portions of a program written using the Model-View-Controller or MVC architecture. By doing so, this allows our controller to react to problems quickly, usually by requesting additional input from the user using the view portion of the program.</p>
<h3 id="prompt-user">Prompt User</h3>
<p>In simpler programs, it is common for the code to simply handle the precondition failure by asking the user for new input. This is commonly done in programs that are small enough to fit in a single class, instead of being developed using MVC architecture.</p>
<h3 id="incorrect-output">Incorrect Output</h3>
<p>Of course, we could choose to simply ignore these precondition failures and allow our code to continue running. IN that case, if the preconditions are not met, then the answer we receive may be completely invalid. On the next page, we&rsquo;ll discuss how failed preconditions affect whether we can trust our method&rsquo;s output.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="postconditions">Postconditions</h1>

<p>Next, we can discuss postconditions. A postcondition is a statement that is guaranteed to be true after a method is executed, provided all of the preconditions were met. If any one of the preconditions were not met, then we can&rsquo;t count on the postcondition being true either. This is the most important concept surrounding preconditions and postconditions.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>If the preconditions of a method are all true when a method is called, then we may assume the postconditions are true after the method is complete, provided it is written <strong>correctly</strong>.</p>
</div>
</div>
<h2 id="example---area-of-a-triangle">Example - Area of a Triangle</h2>
<p>On the last page, we discussed the preconditions for a method <code>triangleArea(side1, side2, side3)</code> that will calculate the area of a triangle given the lengths of its sides. Those preconditions are:</p>
<ol>
<li><code>side1</code>, <code>side2</code> and <code>side3</code> each must each be an integer that is strictly greater than $0$</li>
<li><code>side1</code>, <code>side2</code> and <code>side3</code> must satisfy the triangle inequality</li>
</ol>
<p>So, once the method completes, what should our postcondition be? In this case, we want to find a statement that would be always true if all of the preconditions are met.</p>
<p>Since the method will be calculating the area of the triangle, the strongest postcondition we can use is the most obvious one:</p>
<ol>
<li>The method will return the area of a triangle with side lengths <code>side1</code>, <code>side2</code> and <code>side3</code></li>
</ol>
<p>That&rsquo;s really it!</p>
<p>Of course, there are a few other postconditions that we could consider, especially when we start working with data structures and objects. For example, one of the most powerful postconditions is the statement:</p>
<ol>
<li>The values of the parameters are not modified from their original values</li>
</ol>
<p>When we call a method that accepts an array or object as a parameter, we know that we can modify the values stored in that array or object because the parameter is handled in a <em>call-by-reference</em> fashion in most languages. So, if we don&rsquo;t state that this postcondition applies, we can&rsquo;t guarantee that the method did not change the values in the array or object we provided as a parameter.</p>
<h2 id="precondition-failures-incorrect-output">Precondition Failures: Incorrect Output</h2>
<p>So, what if the preconditions are not met? Then what happens?</p>
<p>As we discussed on the previous page, if the preconditions are not met, then we cannot guarantee that the postcondition will be true once the method executes. In fact, it may be decidedly incorrect, depending on how we implement the method.</p>
<p>
<a href="#image-7140ee5e0a1c9e6abe5767bebb691770" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/3-postconditions/../../images/3/3.3.triangle_wiki.png" alt="Heron&amp;rsquo;s Formula" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-7140ee5e0a1c9e6abe5767bebb691770">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/3-postconditions/../../images/3/3.3.triangle_wiki.png" alt="Heron&amp;rsquo;s Formula" class="lightbox-image" loading="lazy">
</a>^[File:Triangle with notations 2 without points.svg. (2018, December 5). Wikimedia Commons, the free media repository. Retrieved 00:03, January 22, 2020 from https://commons.wikimedia.org/w/index.php?title=File:Triangle_with_notations_2_without_points.svg&amp;oldid=330397605.]</p>
<p>For example, the simplest way to find the area of a triangle given the lengths of all three sides is <a href="https://en.wikipedia.org/wiki/Heron%27s_formula" target="_blank">Heron&rsquo;s formula</a>
, which can be written mathematically as:</p>
<p>$$
A = 1/4 \sqrt{(a + b + c)(-a + b + c)(a - b + c)(a + b - c)}
$$</p>
<p>Since this is a mathematical formula, it is always possible to get a result from it, even if all of the preconditions are not met. For example, the inputs could be floating-point values instead of integers, or they may not satisfy the triangle inequality. In that case, the function may still produce a result, but it will not represent the actual area of the triangle described, mainly because the parameters provided describe a triangle that cannot exist in the real world. So, we must always be careful not to assume that a method will always provide the correct output unless we provide parameters that make all of its preconditions true.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="invariants">Invariants</h1>

<p><a href="https://www.youtube.com/watch?v=KxNJqvU31oI">YouTube Video</a></p>
<p>Another concept related to preconditions and postconditions is the <em>loop invariant</em>. A loop invariant is a statement should be true after each iteration of a loop, provided the loop&rsquo;s <em>preconditions</em> are all true before the start of the loop. Yes, that&rsquo;s right&mdash;we can think of a loop as a miniature method within a method, with its own set of preconditions and postconditions.</p>
<h2 id="example---maximum">Example - Maximum</h2>
<p>For this example, let&rsquo;s consider a method <code>maximum(numbers)</code> that gets an array of numbers as input, and returns the maximum value stored in that list. So, we can start by listing the preconditions of the method:</p>
<ol>
<li><code>numbers</code> is an array containing at least one numerical value, either a floating point or an integer</li>
</ol>
<p>Thankfully, that one precondition covers all of our bases. Likewise, we can define our postcondition pretty easily as well:</p>
<ol>
<li>The method returns the maximum value stored in the <code>numbers</code> array</li>
<li>The <code>numbers</code> array is not modified by the method</li>
</ol>
<p>There we go! Hopefully it is easy to see how the preconditions and postconditions help us build a better definition of what operations should be performed by the method.</p>
<h3 id="method-pseudocode">Method Pseudocode</h3>
<p>Now that we&rsquo;ve built our method&rsquo;s preconditions and postconditions, let&rsquo;s quickly write the method in pseudocode so we can see what it would look like.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>function MAXIMUM(NUMBERS)
</span></span><span style="display:flex;"><span>    MAX = NUMBERS[0]
</span></span><span style="display:flex;"><span>    loop I from 1 to length of NUMBERS
</span></span><span style="display:flex;"><span>        if NUMBERS[I] &gt; MAX
</span></span><span style="display:flex;"><span>            MAX = NUMBERS[I]
</span></span><span style="display:flex;"><span>        end if
</span></span><span style="display:flex;"><span>    end loop
</span></span><span style="display:flex;"><span>    return MAX
</span></span><span style="display:flex;"><span>end function</span></span></code></pre></div><p>We&rsquo;ve seen methods like this several times already, since calculating the maximum value from an array of values is a very common task. This time, however, let&rsquo;s discuss the preconditions, postconditions and invariants of the loop inside of this method.</p>
<h3 id="preconditions">Preconditions</h3>
<p>First, we can establish an important precondition at the beginning of the loop. In this case, the precondition that best describes the value stored in <code>MAX</code> is:</p>
<ol>
<li><code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including index $0$.</li>
</ol>
<p>In this way, we&rsquo;ve directly tied our precondition to the values that exist in the method already, and we&rsquo;ve accurately described the value that <code>MAX</code> is currently storing.</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
  <div class="box-content">

<h1 id="confused">Confused?</h1>
<p>Don&rsquo;t worry if this doesn&rsquo;t make sense right now - you won&rsquo;t be expected to write your own preconditions and invariants at this point. We&rsquo;re just introducing the concepts so you&rsquo;ll understand how they work when you see them later in the projects in this course</p>
</div>
</div>
<h3 id="loop-invariant">Loop Invariant</h3>
<p>Next, we can determine what the loop invariant should be. This is a statement that should be true after each iteration of the loop, provided the precondition is true. Usually we want to try and relate it to the precondition somehow, and how it changes after each iteration of the loop. So, let&rsquo;s consider the following loop invariant:</p>
<ol>
<li><code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including index $I$.</li>
</ol>
<p>Hmm, that&rsquo;s almost exactly the same as the precondition, isn&rsquo;t it? That&rsquo;s what we&rsquo;re going for here. In this way, we can easily describe what the loop does after each iteration based on how it updates the value in <code>MAX</code>, keeping the loop invariant true. We call that &ldquo;maintaining the loop invariant.&rdquo;</p>
<h3 id="postcondition">Postcondition</h3>
<p>Finally, we can define the postcondition of the loop. This is pretty simple, since it is the same as the loop invariant, but this time we can say that <code>I</code> is equal to the end of the loop. So, our postcondition is simply:</p>
<ol>
<li><code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including the last index.</li>
</ol>
<p>That&rsquo;s all there is to it! By defining a precondition, invariant, and postcondition for our loop, we can very accurately describe exactly what that loop should do. On the next page, we&rsquo;ll see how we can put all of those together to show that our method works correctly.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="correctness">Correctness</h1>

<p><a href="https://www.youtube.com/watch?v=Yc1u0ja3iVY">YouTube Video</a></p>
<p>If we have defined the correct preconditions, postconditions, and invariants for our code, we can then use those to prove that our code correctly performs its intended operation.</p>
<p>In this course, we won&rsquo;t ask you to do any of this yourself, but it is important to understand what is going on in the background and how this process works. We can use the concepts of preconditions and postconditions when grading your code using our Autograder&mdash;in fact, that&rsquo;s really how it works!</p>
<h2 id="proving-correctness">Proving Correctness</h2>
<p>To prove correctness of a method, we can generally follow this process:</p>
<ol>
<li>Establish (or assume) that the method&rsquo;s preconditions are all true</li>
<li>Use the preconditions and the code to demonstrate that any invariants within the code are always true
<ol>
<li>If the code contains a loop, we can repeat this process for preconditions and postconditions of the loop</li>
</ol>
</li>
<li>Use the preconditions and invariants to show that the postcondition is true</li>
</ol>
<p>Let&rsquo;s do this for our <code>maximum()</code> method described on the previous page. Here is the pseudocode once again:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>function MAXIMUM(NUMBERS)
</span></span><span style="display:flex;"><span>    MAX = NUMBERS[0]
</span></span><span style="display:flex;"><span>    loop I from 1 to length of NUMBERS
</span></span><span style="display:flex;"><span>        if NUMBERS[I] &gt; MAX
</span></span><span style="display:flex;"><span>            MAX = NUMBERS[I]
</span></span><span style="display:flex;"><span>        end if
</span></span><span style="display:flex;"><span>    end loop
</span></span><span style="display:flex;"><span>    return MAX
</span></span><span style="display:flex;"><span>end function</span></span></code></pre></div><p>Here are the associated conditions we established as well:</p>
<p><strong>Method Precondition:</strong> <code>NUMBERS</code> is an array containing at least one numerical value, either a floating point or an integer
<strong>Loop Precondition:</strong> <code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including index $0$.
<strong>Loop Invariant:</strong> <code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including index $I$.
<strong>Loop Postcondition:</strong> <code>MAX</code> contains the maximum value stored in <code>NUMBERS</code> up to and including the last index.
<strong>Method Postconditions:</strong> The method returns the maximum value stored in the <code>NUMBERS</code> array, and the <code>NUMBERS</code> array is not modified by the method</p>
<p>Now that we have that information, we can discuss the <em>correctness</em> of the method.</p>
<h2 id="a-simple-proof">A Simple Proof</h2>
<p>To begin, we assume that the method&rsquo;s preconditions are true. Therefore, we know that <code>NUMBERS</code> is an array containing at least one numerical value. Earlier in this chapter, we learned that we can&rsquo;t assume that the method works if the preconditions are false, so we can always begin our proof by assuming they are true.</p>
<p>Next, we have to use the code as well as the method&rsquo;s preconditions to establish that the loop&rsquo;s preconditions are true. In the code, we see that we set the value of <code>MAX</code> equal to the first element in the <code>NUMBERS</code> array. So, since there is only that value in the <code>NUMBERS</code> array up to and including index $0$, it is easy to say that it is indeed the maximum value. So, we&rsquo;ve shown that our loop&rsquo;s precondition is true.</p>
<p>After that, we have to show that the loop invariant is true after each iteration of the loop. A proper proof would involve a technique called <em>proof by induction</em>, which is more advanced than we want to cover in this course. However, a simple way to think about it is to say that the value in <code>MAX</code> contains the largest value in the list that we&rsquo;ve seen so far. On each loop iteration, we look at one more value. If it is larger than <code>MAX</code>, then it becomes the new <code>MAX</code> value. Otherwise, we know that the maximum value we&rsquo;ve seen so far hasn&rsquo;t changed. So, we can show that our loop invariant is always true after each loop iteration.</p>
<p>Finally, once we reach the end of the loop, we&rsquo;ve looked at every element including the last index, and found the <code>MAX</code> value, so it is easy to see that our loop postcondition is true.</p>
<p>Then, we can quickly use that loop postcondition to understand that the <code>MAX</code> value is really the largest in the <code>NUMBERS</code> array, which means that the first part of our method&rsquo;s postcondition is also true.</p>
<p>But wait! What about the second part, that insists that we did not modify the contents of the numbers array? Thankfully, we can quickly look at our code and determine that we are not assigning a value into the array, nor do we call any functions on the array, so it is easy to show that our code has not modified it in any way.</p>
<p>There we go! This is a quick example for how we can use preconditions, postconditions, and invariants to help understand our code and whether it works correctly.</p>
<p>On the next page, we&rsquo;ll learn about <em>unit testing</em> and how we can write our own code to verify that our code works correctly.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="unit-testing">Unit Testing</h1>

<p>Once we&rsquo;ve written a program, how can we verify that it works correctly? There are many ways to do this, but one of the most common is <em>unit testing</em>.</p>
<h2 id="unit-testing">Unit Testing</h2>
<p>Unit testing a program involves writing code that actually runs the program and verifies that it works correctly. In addition, many unit tests will also check that the program produces appropriate errors when given bad input, or even that it won&rsquo;t crash when given invalid input.</p>
<p>For example, a simple unit test for the <code>maximum()</code> method would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>function MAXIMUMTEST()
</span></span><span style="display:flex;"><span>    ARRAY = new array[5]
</span></span><span style="display:flex;"><span>    ARRAY[0] = 5
</span></span><span style="display:flex;"><span>    ARRAY[1] = 25
</span></span><span style="display:flex;"><span>    ARRAY[2] = 10
</span></span><span style="display:flex;"><span>    ARRAY[3] = 15
</span></span><span style="display:flex;"><span>    ARRAY[4] = 0
</span></span><span style="display:flex;"><span>    RESULT = MAXIMUM(ARRAY)
</span></span><span style="display:flex;"><span>    if RESULT == 25:
</span></span><span style="display:flex;"><span>        print &#34;Test Passed&#34;
</span></span><span style="display:flex;"><span>    end if
</span></span><span style="display:flex;"><span>end function</span></span></code></pre></div><p>This code will simply create an array that we know the maximum value of, and then confirm that our own <code>maximum()</code> method will find the correct result.</p>
<p>Of course, this is a very simplistic unit test, and it would take several more unit tests to fully confirm that the <code>maximum()</code> method works completely correctly.</p>
<p>However, it is important to understand how this test relates to the preconditions and postconditions that were established on previous pages. Here, the unit tests creates a variable <code>ARRAY</code> which is an array of at least one numerical value. Therefore, it has met the preconditions for the <code>maximum()</code> method, so we can assume that if <code>maximum()</code> is written correctly, then the postconditions will be true once it is has executed. This is the key assumption behind unit tests.</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
  <div class="box-content">

<h1 id="why-does-this-matter">Why Does This Matter?</h1>
<p>In this course, you will be asked to build several data structures and implement algorithms that use those data structures. In the assignment descriptions, we may describe these methods using the preconditions and postconditions applied to them. Similarly, we&rsquo;ll learn about <em>structural invariants</em> of data structures, which help us ensure that your data structures are always valid.</p>
<p>Then, to grade your work, we use an autograder that contains several unit tests. Those unit tests are used to confirm that you code works correctly, and they do so by providing input that either satisfies the preconditions, meaning that the test expects that the postconditions will be true, or by providing invalid input and testing how your code reacts to those situations.</p>
<p>You&rsquo;ll see these concepts throughout this course, so it is important to be familiar with them now.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="performance-of-algorithms">Performance of Algorithms</h1>

<p>The performance of our algorithms is very important, since the difference between good algorithms and bad algorithms on very large data sets can often be measured in terms of days of execution time. Thus, efficiency will be one of the key issues we will look at when designing algorithms.</p>
<p>For example, one simple problem involves finding the largest sum of contiguous elements in an array. So, if we have the array:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>[−2, 1, −3, 4, −1, 2, 1, −5, 4]</span></span></code></pre></div><p>we could find that the contiguous sequence of:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>[4, −1, 2, 1]</span></span></code></pre></div><p>sums to $6$, which is the largest sum of any contiguous subsequences of this array.</p>
<p>A simple solution to this problem might involve finding all possible subsequences of the array and adding them, which could take a very long time. In fact, if the array contains $n$ elements, it might take $n^3$ steps to solve it. However, with a little ingenuity, we can actually solve this problem using many fewer steps, even as few as $n$ steps itself.</p>
<p>When we try to solve a problem, it is often helpful to look at multiple solutions to the problem and compare them before choosing our final design.  Just the act of trying to find multiple ways to solve the same problem stimulates creativity and promotes mental elasticity and speed of thought. Selecting a solution from several different choices following rigorous and objective criteria enables us to improve fundamental life skills such as simply knowing how to make decisions! In fact, the very attempt at solving a problem in a variety of ways forces us to look our problems from different perspectives, which is the catalyst of all scientific discoveries.</p>
<p>Throughout this section, we will develop two solutions to the problem of finding the maximum <code>max</code> and minimum <code>min</code> of a list of <code>N</code> numbers (defined as <code>list[N]</code>) as an example. We will develop both solutions and then evaluate their performances in terms of both execution time and memory space.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="max-and-min---linear">Max and Min - Linear</h1>

<p><a href="https://www.youtube.com/watch?v=dByG6Fv9VB4">YouTube Video</a></p>
<p>Let’s start by considering one number from the list at a time.</p>
<h2 id="base-case">Base Case</h2>
<p>When we have received just one number, this number is both the maximum and the minimum. In the initial state, you have <code>max</code> holding the maximum, and <code>min</code> holding the minimum. The invariant is the following:</p>
<ol>
<li>The variable <code>max</code> holds the maximum of all the numbers considered so far</li>
<li>The variable <code>min</code> holds the minimum of all the numbers considered so far</li>
</ol>
<p>The algorithm is depicted by the following flowchart and pseudocode:</p>
<p>
<a href="#image-8a653b57bc0be6b62ee254873ef0a229" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/8-max-and-min-linear/../../images/3/3.9.base.png" alt="Min Max Flowchart Base" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8a653b57bc0be6b62ee254873ef0a229">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/8-max-and-min-linear/../../images/3/3.9.base.png" alt="Min Max Flowchart Base" class="lightbox-image" loading="lazy">
</a></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>print &#34;Enter a Number:&#34;
</span></span><span style="display:flex;"><span>input X
</span></span><span style="display:flex;"><span>MAX = X
</span></span><span style="display:flex;"><span>MIN = X</span></span></code></pre></div><h2 id="the-next-number">The Next Number</h2>
<p>Then, our program will enter a loop to read 10 more numbers from the user. So, we&rsquo;ll need to perform the following process during each iteration of the loop:</p>
<ol>
<li>compare the value in <code>max</code> with this new number and update the <code>max</code> value if the new number is greater. In this way, the invariant is preserved.</li>
<li>compare the value in <code>min</code> with this new number and update the <code>min</code> value if the new number is smaller. In this way, the invariant is preserved.</li>
</ol>
<p>This part of the program is depicted by the following flowchart and pseudocode:</p>
<p>
<a href="#image-66e0416a870f7d815b4a62ad967fcd87" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/8-max-and-min-linear/../../images/3/3.9.loop.png" alt="Min Max Flowchart Loop" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-66e0416a870f7d815b4a62ad967fcd87">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/8-max-and-min-linear/../../images/3/3.9.loop.png" alt="Min Max Flowchart Loop" class="lightbox-image" loading="lazy">
</a></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>loop I from 1 to 10
</span></span><span style="display:flex;"><span>    print &#34;Enter a Number:&#34;
</span></span><span style="display:flex;"><span>    input X
</span></span><span style="display:flex;"><span>    if X &gt; MAX
</span></span><span style="display:flex;"><span>        MAX = X
</span></span><span style="display:flex;"><span>    end if
</span></span><span style="display:flex;"><span>    if X &lt; MIN
</span></span><span style="display:flex;"><span>        MIN = X
</span></span><span style="display:flex;"><span>    end if
</span></span><span style="display:flex;"><span>end loop</span></span></code></pre></div><p>After you&rsquo;ve considered the second number, you end up in the same situation at the beginning: you have a maximum and a minimum value of the numbers input by the user so far. You have found an <strong>invariant</strong> if you verify that the preconditions before executing an iteration of the loops are the same as the conditions at the end of the loop, known as postconditions:</p>
<ul>
<li>Loop preconditions:
<ol>
<li>The variable <code>max</code> holds the maximum value among all the numbers considered so far</li>
<li>The variable <code>min</code> holds the minimum value among all the numbers considered so far</li>
<li>The new input considered is a number</li>
</ol>
</li>
<li>Loop postconditions:
<ol>
<li>The variable <code>max</code> holds the maximum value among all the numbers considered so far</li>
<li>The variable <code>min</code> holds the minimum value among all the numbers considered so far</li>
</ol>
</li>
<li>Loop invariant:
<ol>
<li>The variable <code>max</code> holds the maximum value among all the numbers considered so far</li>
<li>The variable <code>min</code> holds the minimum value among all the numbers considered so far</li>
</ol>
</li>
</ul>
<p>You can then generalize the solution for the <code>n</code>th input: when you consider the <code>n</code>th number, compare it with the values in <code>max</code> and <code>min</code>, updating them if necessary. In each step, we can show that the invariant holds.</p>
<p>A full flowchart of this program can be found by clicking the following link:</p>
<p><a href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/8-max-and-min-linear/../../images/3/3.9.flow.png">Min Max Flowchart</a>
</p>
<p>It is helpful to have this diagram available in a second browser tab for review on the next few pages.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="max-and-min---pairs">Max and Min - Pairs</h1>

<p><a href="https://www.youtube.com/watch?v=C0yA_0H2rdg">YouTube Video</a></p>
<p>Another solution consists of comparing the numbers in pairs, instead of one at a time.</p>
<h2 id="base-case">Base Case</h2>
<p>When we have received just one number, this number is both the maximum and the minimum. In the initial state, you have <code>max</code> holding the maximum, and <code>min</code> holding the minimum. The invariant is the following:</p>
<ol>
<li>The variable <code>max</code> holds the maximum of all the numbers considered so far</li>
<li>The variable <code>min</code> holds the minimum of all the numbers considered so far</li>
</ol>
<p>The algorithm is depicted by the following flowchart and pseudocode:</p>
<p>
<a href="#image-8843400428c4a19347d85403ec70f4eb" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/9-max-and-min-pairs/../../images/3/3.9.base.png" alt="Min Max Flowchart Base" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8843400428c4a19347d85403ec70f4eb">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/9-max-and-min-pairs/../../images/3/3.9.base.png" alt="Min Max Flowchart Base" class="lightbox-image" loading="lazy">
</a></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>print &#34;Enter a Number:&#34;
</span></span><span style="display:flex;"><span>input X
</span></span><span style="display:flex;"><span>MAX = X
</span></span><span style="display:flex;"><span>MIN = X</span></span></code></pre></div><h2 id="the-next-two-numbers">The Next Two Numbers</h2>
<p>In this program, instead of just considering one number at a time, we&rsquo;ll ask the user to input two numbers. Then, we can determine which of those two inputs is larger (we&rsquo;ll call it <code>lastmax</code>), and compare it to the value in <code>max</code>. Similarly, we can do the same for the smaller value (called <code>lastmin</code>) and <code>min</code>. Would this program be more efficient?</p>
<p>The algorithm is depicted by the following flowchart and pseudocode:</p>
<p>
<a href="#image-64bc93ec9acbf6d4dd0658e8773693c8" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/9-max-and-min-pairs/../../images/3/3.10.loop.png" alt="Min Max Pairs Loop" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-64bc93ec9acbf6d4dd0658e8773693c8">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/9-max-and-min-pairs/../../images/3/3.10.loop.png" alt="Min Max Pairs Loop" class="lightbox-image" loading="lazy">
</a></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>loop I from 1 to 10 step by 2:
</span></span><span style="display:flex;"><span>    output &#34;Enter a Number:&#34;
</span></span><span style="display:flex;"><span>    input X
</span></span><span style="display:flex;"><span>    output &#34;Enter a Number:&#34;
</span></span><span style="display:flex;"><span>    input Y
</span></span><span style="display:flex;"><span>    if X &gt; Y
</span></span><span style="display:flex;"><span>        LASTMAX = X
</span></span><span style="display:flex;"><span>        LASTMIN = Y
</span></span><span style="display:flex;"><span>    else
</span></span><span style="display:flex;"><span>        LASTMAX = Y
</span></span><span style="display:flex;"><span>        LASTMIN = X
</span></span><span style="display:flex;"><span>    end if
</span></span><span style="display:flex;"><span>    if LASTMAX &gt; MAX
</span></span><span style="display:flex;"><span>        MAX = LASTMAX
</span></span><span style="display:flex;"><span>    end if
</span></span><span style="display:flex;"><span>    if LASTMIN &lt; MIN
</span></span><span style="display:flex;"><span>        MIN = LASTMIN
</span></span><span style="display:flex;"><span>    end if
</span></span><span style="display:flex;"><span>end loop</span></span></code></pre></div><p>Once again, we can easily show that the same loop preconditions, postconditions, and invariants work for this loop:</p>
<ul>
<li>Loop preconditions:
<ol>
<li>The variable <code>max</code> holds the maximum value among all the numbers considered so far</li>
<li>The variable <code>min</code> holds the minimum value among all the numbers considered so far</li>
<li>The new inputs considered are a number</li>
</ol>
</li>
<li>Loop postconditions:
<ol>
<li>The variable <code>max</code> holds the maximum value among all the numbers considered so far</li>
<li>The variable <code>min</code> holds the minimum value among all the numbers considered so far</li>
</ol>
</li>
<li>Loop invariant:
<ol>
<li>The variable <code>max</code> holds the maximum value among all the numbers considered so far</li>
<li>The variable <code>min</code> holds the minimum value among all the numbers considered so far</li>
</ol>
</li>
</ul>
<p>A full flowchart of this program can be found by clicking the following link:</p>
<p><a href="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/9-max-and-min-pairs/../../images/3/3.10.flow.png">Min Max Flowchart</a>
</p>
<p>It is helpful to have this diagram available in a second browser tab for review on the next few pages.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="time-complexity">Time Complexity</h1>

<p><a href="https://www.youtube.com/watch?v=J_o9ud01yHU">YouTube Video</a></p>
<p>It is very useful to compare the two solutions to choose one. In general, you can compare the two solutions by considering:</p>
<ol>
<li>The time required to execute it</li>
<li>The amount of memory it requires</li>
<li>The number of instructions used, and also the understandability of the code</li>
</ol>
<h2 id="time-complexity">Time Complexity</h2>
<p>To compare programs in terms of the time we can estimate the running time, or time it takes to complete its work. If the program performs operations on a large set of data, you can also check the run time by using the timer available in your programming language. This type of algorithm profiling is called experimental algorithm evaluation.</p>
<p>You can also estimate the time by counting the number of comparisons and assignments performed by the two programs since comparison and assignments are the fundamental operations that allow you to find the smallest and the largest element.</p>
<p>Let&rsquo;s do this analysis for both the linear and pairs solution to the problem of finding the minimum and maximum values in a list of numbers. For this analysis, we&rsquo;ll just look at the code inside the loop, and ignore any code before the loop that initializes variables, since both programs have the same code there.</p>
<h3 id="comparisons">Comparisons</h3>
<p>The linear program performs two comparisons, <code>x &gt; max</code> and <code>x &lt; min</code> each time a new number is considered. If the algorithm considers <code>N</code> numbers, the total number of comparisons is $N * 2$ or $2N$ comparisons.</p>
<p>The pairs program makes three comparisons every time it considers two elements: <code>x &gt; y</code>, <code>lastmax &gt; max</code> and <code>lastmin &lt; min</code> If the algorithm considers <code>N</code> numbers, the total number of comparison is $N/2 * 3$ or $3/2 N$ comparisons.</p>
<p>If we assume that our list is holding a large number of values, then we can see a major difference in the time required to complete the program. Put another way, we can observe that the difference in efficiency between the two programs increases as <code>N</code> increases. Assuming <code>N</code> is $1,000$, the linear program makes $2,000$ comparisons, while the pairs program makes $1,500$ comparisons.</p>
<p>Of course, data sizes in real programs can be much larger. For example, Google currently indexes around 50 billion web pages! So, a list that contains $1,000$ numbers looks pretty small by comparison.</p>
<h3 id="assignments">Assignments</h3>
<p>For the assignments, you can count them. For the linear solution, the following situations could occur:</p>
<ol>
<li>The new number updates the maximum. If the new number is the maximum it will be greater than the minimum, so no update is required for the minimum</li>
<li>The new number update the minimum. If the new number is the minimum it will be lower than the maximum so no updated are required for the maximum</li>
<li>If the new number is between the minimum and the maximum value no updates are required</li>
</ol>
<p>So, in the <em>worst-case</em>, the algorithm performs $N$ assignments. For example, consider a situation where the list is already sorted in increasing order. In that case, we&rsquo;ll have to update the maximum value each time, resulting in $N$ assignments.</p>
<p>In the pairs solution, for every two numbers considered causes the following assignments to be computed:</p>
<ol>
<li>Two assignments for updating the <code>lastmax</code> and <code>lastmin</code>. These two assignments are done in any case.</li>
<li>From zero to two assignments to update the <code>min</code> and the <code>max</code>, depending on the results of the comparisons.</li>
</ol>
<p>Therefore, the number of assignments is $2$ in the <em>best case</em>, $4$ in the <em>worst case</em>, and $3$ in the <em>average case</em>. Hence, with $N$ numbers, the number of assignments is $N/2 * 2$ or $N$ in the best case, $2N$ in the worst case and $3/2N$ in the average case. The number of assignments is greater with the second algorithm. But, could we do better in this last case?</p>
<h2 id="which-is-better">Which is Better?</h2>
<p>So, how can we determine which is better? Let&rsquo;s look at a couple of situations.</p>
<p>For example, if we have a list of 1000 numbers, we can find the following number of steps for each program. First, let&rsquo;s consider the <strong>worst case</strong> performance, taking the largest values for each.</p>
<ol>
<li>Linear: $2N$ or $2000$ comparisons + $N$ or $1000$ assignments, so $3000$ total steps</li>
<li>Pairs: $3/2 * N$ or $1500$ comparisons + $2N$ or $2000$ assignments, to $3500$ total steps</li>
</ol>
<p>As we can see, the pairs program requires more steps in total than the linear program. So, it appears that it might be the best choice.</p>
<p>However, not every program will be a worst case. So, let&rsquo;s look at the <strong>best case</strong> performance for each one:</p>
<ol>
<li>Linear: $2N$ or $2000$ comparisons + $0$ assignments (ignoring the small number of initial assignments), so $2000$ total steps</li>
<li>Pairs: $3/2 * N$ or $1500$ comparisons + $N$ or $1000$ assignments, to $2500$ total steps</li>
</ol>
<p>Again, we see that the pairs program still requires more steps than the linear program, though both programs run faster in the best case than the worst case.</p>
<p>Finally, we can do the same for the <strong>average case</strong> performance:</p>
<ol>
<li>Linear: $2N$ or $2000$ comparisons + $N/2$ assignments, so $2500$ total steps</li>
<li>Pairs: $3/2 * N$ or $1500$ comparisons + $3/2 * N$ or $1500$ assignments, to $3000$ total steps</li>
</ol>
<p>There we go! As we can see, in each case the linear program actually performs better than the pairs program, even though we know that the pairs program will only run the loop half as many times as the linear program. The extra comparisons and assignments make the program take more time!</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="space-complexity">Space Complexity</h1>

<p>We can also look at a program based on the amount of space, or memory, that it uses. In this case, we are looking at the number of variables that are needed, and also the size of any lists, arrays, or more advanced data structures used.</p>
<p>The comparison in terms of space leads us to observe that the linear solution uses, in addition to the input value <code>x</code> for each iteration of the loop, also the <code>max</code> and <code>min</code> variables. So, there are just 3 more variables to keep track of.</p>
<p>The pairs solution uses, in addition to the two input values <code>x</code> and <code>y</code> for each iteration of the loop, two variables for the <code>lastmax</code> and <code>lastmin</code> as well as the global <code>max</code> and <code>min</code> variables. So, there are 6 more variables to keep track of in this solution</p>
<p>Therefore, the linear solution is more space-efficient since it requires only three variables.</p>
<h2 id="a-bigger-example">A Bigger Example</h2>
<p>Let&rsquo;s consider a bigger example program, just to see the impact of space complexity when analyzing a program. Consider a program that will compute the result of multiplying two numbers from $1$ through $10$. So, there are 10 numbers we need to consider as both operands.</p>
<p>One possible solution would be to pre-compute all possible answers in a 10 by 10 array, which would contain 100 elements. A diagram of this is shown below.</p>
<p>
<a href="#image-d78fac6bb6a4faa17c2ae5b49a91234b" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/11-space-complexity/../../images/3/3.12.mult_table_wiki.png" alt="Multiplication Table" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-d78fac6bb6a4faa17c2ae5b49a91234b">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/11-space-complexity/../../images/3/3.12.mult_table_wiki.png" alt="Multiplication Table" class="lightbox-image" loading="lazy">
</a>^[Wikipedia contributors. (2020, January 25). Multiplication table. In Wikipedia, The Free Encyclopedia. Retrieved 02:06, January 28, 2020, from https://en.wikipedia.org/w/index.php?title=Multiplication_table&amp;oldid=937470066]</p>
<p>This is a very inefficient program in terms of space complexity, since it requires $N^2$ spaces in memory for $N$ possible operand values.</p>
<p>Of course, we already know that we could write a program that could simply calculate and return the answer based on the input values, so this example is a bit worthless in practice. However, on some small, embedded systems such as a smart watch or nano-machine, we might discover that it is better to use memory than to spend time calculating a result on such a slow processor, so there are times where having higher space complexity helps save time in the long run.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="code-complexity">Code Complexity</h1>

<p>Lastly, when analyzing a program, we must also consider the complexity of the code used to write the program. Code complexity can refer to many things, but in general we use it to describe how many lines of code are included the program, as well as how easy it is to understand what the program does.</p>
<h2 id="lines-of-code">Lines of Code</h2>
<p>One of the most common ways to measure the size of a program is the number of lines of code, or <em>LOC</em>, of the program. This can be a very rough estimate of the size of the program, since, in general, a longer program with more lines of code may be more complex than a shorter program with fewer lines.</p>
<p>So, if we can find a solution to a problem that requires many fewer lines of code than another solution, that is one factor to consider. Of course, the solution with fewer lines of code may be more complex in terms of time or space!</p>
<h2 id="understandability">Understandability</h2>
<p>The other important measure of code complexity deals with how easy it is to understand what the program does. Sometimes we can write a program that only takes a few lines of code, but it is so complex that it is difficult to really understand how it works.</p>
<p>For example, consider this line of pseudocode - can you determine what it does?</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>return (X &gt; 0) and ((X % 10) + (INT((X % 100) / 10))) &lt; 5</code></pre></div><p>It is pretty difficult to understand. Can we rewrite this program to make it easier to understand? Consider the following code:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>if X &lt;= 0
    return FALSE
else
    ONES_PLACE = X % 10
    TENS_PLACE = X % 100
    SUM_LAST_TWO_DIGITS = TENS_PLACE + ONES_PLACE
    if SUM_LAST_TWO_DIGITS &lt; 5
        return TRUE
    else
        return FALSE
    end if
end if</code></pre></div><p>This program is pretty easy to follow. First, it will determine if <code>X</code> is 0 or a negative number, and return <code>FALSE</code> if so. Then, it will find the last two digits of the number, corresponding to the ones and the tens place, and sum them. Finally, if the sum of the last two digits is less than $5$, it will return <code>TRUE</code>. Otherwise, it will return <code>FALSE</code>.</p>
<p>As it turns out, these two programs do the exact same thing! However, from the single line of code in the first program, it is very difficult to decipher exactly what it does. The second program, even though it is much longer, is much easier to understand. In addition, when run on a real computer, both of these programs will take nearly the same amount of time to run.</p>
<h2 id="complexity-triad">Complexity Triad</h2>
<p>As we&rsquo;ve seen, we can describe the complexity of a program in terms of three values: the time it takes to run, the space it requires in memory, and the size and understandability of the code. However, how do we know which of those measures is the most important?</p>
<p>Unfortunately, that is a difficult question to answer. In general, we want to reduce each of these levels of complexity, but sometimes there are trade-offs. For example, a program that runs quickly may require lots of extra memory, or it could even require really complex code.</p>
<p>The world of business uses a simple triad to understand these trade-offs, as shown in the diagram below:</p>
<p>
<a href="#image-742892a0a646c0f2ead641420a93e54e" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/12-code-complexity/../../images/3/3.13.triad_wiki.svg" alt="Business Triad Diagram" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-742892a0a646c0f2ead641420a93e54e">
<img src="https://ksu-cs-textbooks.github.io/cc310/3-programming-by-contract-and-introduction-to-performance/12-code-complexity/../../images/3/3.13.triad_wiki.svg" alt="Business Triad Diagram" class="lightbox-image" loading="lazy">
</a>^[File:Project-triangle.svg. (2020, January 12). Wikimedia Commons, the free media repository. Retrieved 02:41, January 28, 2020 from https://commons.wikimedia.org/w/index.php?title=File:Project-triangle.svg&amp;oldid=386979544.]</p>
<p>Along with this diagram comes the saying: &ldquo;Fast. Good. Cheap. Pick any two.&rdquo; It helps express the difficulty in finding a perfect program that does not contain at least one level of complexity.</p>
<p>Thankfully, most modern computers have a sufficiently fast processor and ample memory that most programs can run easily, even without worrying about reducing the space and time complexity of the program. So, it may seem that the most important measure to focus on is code complexity: we should strive to write readable and understandable code.</p>
<p>However, as we build larger programs and deal with more input data, time and space complexity quickly become more important. So, it is important to consider each measure independently, and do the best we can to build programs that run quickly, use a minimal amount of memory, and aren&rsquo;t so complex that they are difficult to understand.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="programming-by-contract-and-performance-summary">Programming by Contract and Performance Summary</h1>

<p>In this module, we covered two major topics that will help us understand the data structures and algorithms we&rsquo;ll learn in this course. First, we learned about the use of <em>preconditions</em>, <em>postconditions</em>, and <em>loop invariants</em> to help describe the exact specifications of how methods and loops should operate in code. We&rsquo;ll use these as the basis of <em>unit tests</em> in this course to help prove the <em>correctness</em> of data structures and algorithms we are asked to develop throughout the course.</p>
<p>In addition, we were introduced to the concepts of <em>time complexity</em>, <em>space complexity</em>, and <em>code complexity</em>, three ways to measure the performance and usefulness of a computer program. We also learned that it may be difficult to find a perfect program that has very little time, space, and code complexity, so many times we&rsquo;ll have to consider a trade-off between programs that operate quickly, use less memory, and are easier to understand.</p>
<p>Which these tools, we&rsquo;re in a much better place to understand the specifics of the data structures and algorithms we&rsquo;ll encounter in this module. Next, we&rsquo;ll do a short project to explore how we can build programs based on a set of preconditions, postconditions, and invariants instead of the plain language descriptions we&rsquo;ve used up to this point.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cc/310/generic/textbook/-/commit/301ec8aaa3405c30b07aa146ef1fa7f85a5af97c">Aug 17, 2021</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/clipboard.min.js?1694711085" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/perfect-scrollbar.min.js?1694711085" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc310/js/theme.js?1694711085" defer></script>
  </body>
</html>
